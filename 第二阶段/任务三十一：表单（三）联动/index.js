/* 在页面中完成两个单选框，切换单选框的不同选项时下方显示的表单随之切换。 当选择在校生时，出现两个select下拉菜单，一个选择城市，一个选择学校，当选择非在校生时，出一个文本输入框 学校下拉菜单里的学校名单均为城市下拉菜单中所选的城市中的大学，当城市发生变化时，学校一起发生变化 城市及学校的数据随意编造即可，无需真实完整 */var getMessage = (function(){  var cityAndCollege= [    ["北京", "北京大学", "清华大学", "上海交通大学", "浙江大学"],    ["上海", "Harvard University", "Yale University", "University of Cambridge", "Oxford University"],    ["杭州", "STANFORD University", "University of Chicago", "Massachusetts Institute of Technology"],    ["广州", "Duke University", "University of Pennsylvania", "California Institute of Technology"],    ["贵阳", "Columbia University", "princeton University", "University of California, Berkeley"],    ["香港", "南京大学", "华南理工大学", "中国科学院大学", "国防科技大学"]  ];  var addEvent = function (element, event, listener) {    if (element.addEventListener) { //标准      element.addEventListener(event, listener, false);    } else if (element.attachEvent) { //低版本ie      element.attachEvent("on" + event, listener);    } else { //都不行的情况      element["on" + event] = listener;    }  };  var getElement = function (id) {    return document.querySelector(id);  };  var delegateEvent = function delegateEvent(element, tag, eventName, listener) {    addEvent(element, eventName, function () {      var event = arguments[0] || window.event,        target = event.target || event.srcElement;      if (target && target.tagName === tag.toUpperCase()) {        listener.call(target, event);      }    });  };  /**   * 显示城市相应的大学   * @param obj   * @param sub   */  var showCollege = function(obj, sub){    sub.innerHTML = '';    var option = null;    for(var i= 1; i < cityAndCollege[obj.selectedIndex].length; i++){//selectedIndex 属性可设置或返回下拉列表中被选选项的索引号。      option = document.createElement('option');      option.innerHTML = cityAndCollege[obj.selectedIndex][i];      sub.appendChild(option);    }  };  return {    getElement: getElement,    addEvent: addEvent,    delegateEvent: delegateEvent,    showCollege: showCollege  };})();var student = getMessage.getElement("#student");var arrRadio = document.getElementsByName("people");var college = getMessage.getElement("#college");var company = getMessage.getElement("#company");var city = getMessage.getElement("#city");var school = getMessage.getElement("#school");/** * 在校生和非在校生切换的时候改变选择内容，原理是改变display值 */getMessage.delegateEvent(student, 'input', 'click', function(){  var current = '';  for(var i = 0; i < arrRadio.length; i++){    if(arrRadio[i].checked){      current = arrRadio[i].value;      break;    }  }  if(current === '在校生'){    college.style.display = 'block';    getMessage.showCollege(city, school);    company.style.display = 'none';  }else{    college.style.display = 'none';    company.style.display = 'block';  }});/** * 切换城市的时候，显示城市对应的大学 */getMessage.addEvent(city, 'click', function(){  getMessage.showCollege(city, school);});